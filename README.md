# sct_tutorial_data

This repository contains image files required for the **[Spinal Cord Toolbox tutorials](https://spinalcordtoolbox.com/en/latest/tutorials/tutorials.html)**. This repository also contains batch scripts that contain all of the steps in every tutorial, to demonstrate how commands can be chained together as part of a pipeline.

## Using this repo

There are three ways to use this repo:

1. Download the entire `sct_tutorial_data` dataset ([Releases](https://github.com/spinalcordtoolbox/sct_tutorial_data/releases/latest) -> "[Source code (.zip)](https://github.com/spinalcordtoolbox/sct_tutorial_data/archive/refs/heads/master.zip)"), then follow along with every tutorial in the documentation from start to finish. (The tutorials link together.)
2. Download the entire dataset, but use the included batch scripts ([`batch_single_subject.sh`](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/single_subject/batch_single_subject.sh) and [`process_data.sh`](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/multi_subject/process_data.sh)) to execute all of the commands together as a pipeline.
3. Download a single dataset for a specific tutorial (e.g. [Releases](https://github.com/spinalcordtoolbox/sct_tutorial_data/releases/latest) -> "[`data_spinalcord-segmentation.zip`](https://github.com/spinalcordtoolbox/sct_tutorial_data/releases/latest/download/data_spinalcord-segmentation.zip)"), and follow along with just that tutorial.

## Making changes to this repo

If you've written or modified a tutorial for SCT, and want to include the data, you'll need to do 4 things:

1. Update the batch scripts ([`batch_single_subject.sh`](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/single_subject/batch_single_subject.sh) and [`process_data.sh`](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/multi_subject/process_data.sh)) with any new or modified commands.
2. Update the file [`tutorial-datasets.csv`](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/tutorial-datasets.csv) to specify all of files (including intermediate files) required by your tutorial. 
    * The [release workflow](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/.github/workflows/create_release.yml) for this repo will run through the batch scripts, so you'll have access to intermediate files generated by other tutorials. This means you won't have to duplicate intermediate steps between tutorials.
3. If your tutorial needs any data files that aren't already available, commit those to the repo too. 
4. Run the [release workflow](https://github.com/spinalcordtoolbox/sct_tutorial_data/blob/master/.github/workflows/create_release.yml), which will automatically create a new release with the tutorial-specific `.zip` files attached.
